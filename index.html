<!doctype html>
<html lang="en">
<head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=1024" />
   <meta name="apple-mobile-web-app-capable" content="yes" />
   <title>Yelp Challenge Project</title>
   <meta name="description" content="impress.js is a presentation tool based on the power of CSS3 transforms and transitions in modern browsers and inspired by the idea behind prezi.com." />
   <meta name="author" content="David Álvarez" />
   <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
   <link href="libraries/frameworks/impressjs/css/impress-demo.css" rel="stylesheet" />
   <link rel="shortcut icon" href="libraries/frameworks/impressjs/favicon.png" />
   <link rel="apple-touch-icon" href="libraries/frameworks/impressjs/apple-touch-icon.png" />
   <link href="libraries/highlighters/highlight.js/css/tomorrow.css" rel="stylesheet" />   <link rel="stylesheet" href = "libraries/widgets/bootstrap/css/bootstrap.css">

</head>
<body class="impress-not-supported">
  <div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are   
      presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> 
      browser.</p>
  </div>
  <div id="impress">
    
    <div id="slide-1" class="step " 
  data-x="" data-y=""  
   
    
    
   >
 <h1>Yelp Challenge Project</h1>
 <h2>Review Rating Prediction</h2>

<p>Author: <em>David Álvarez</em></p>

</div>
<div id="slide-2" class="step slide" 
  data-x="1000" data-y="0"  
   
    
    
   >
 <h1>Yelp Challenge data description</h1>
 <p>The Yelp company gathers reviews from users attending to restaurants, clinics and other services.</p>

<p>Each review contains a star rating that is given by a user to the rated business.</p>

<p><img src="assets/yelp-logo.jpg" alt="Yelp Logo"></p>

<h1>Project description</h1>

<p>Can we predict the rating of a review looking at its text?</p>

<p>We present the implementation of <strong>a prediction function for star-rating based on machine learning</strong></p>

</div>
<div id="slide-3" class="step slide" 
  data-x="1000" data-y="2000"  
   
    
    
    data-scale="2">
 <h1>Exploratory analysis</h1>
 <p>The data used for this project is available <a href="https://d396qusza40orc.cloudfront.net/dsscapstone/dataset/yelp_dataset_challenge_academic_dataset.zip">here</a>:</p>

<p><img src="assets/fig/text_length-vs-star_rating-1.png" title="plot of chunk text_length-vs-star_rating" alt="plot of chunk text_length-vs-star_rating" style="display: block; margin: auto;" /></p>

<pre><code class="r">ct &lt;- cor.test(log(textLengths), stars)
</code></pre>

<p>Since the p-value of the correlation test is 0, there is no relation between text length and rating. </p>

</div>
<div id="slide-4" class="step slide" 
  data-x="6000" data-y="6000"  
    data-rotate="45" 
    
    
    data-scale="5">
 <h1>Prediction modelling</h1>
 <p>1) Split texts into sentences.  </p>

<p>2) Clean stopwords, numbers, punctuation, word sufixes and sort words without duplicates.<br>
3) Count words + sentence rating:  </p>

<pre><code>##           word count stars avg.stars
## 4975   horribl    24    28  1.166667
## 5260    orbitz     6     7  1.166667
## 3     favorite  1496  6488  4.336898
## 94   delicious  1573  6648  4.226319
</code></pre>

<p>4) Prediction of a sentence is a weighted sum: </p>

<p>\[predict(sent) \gets \frac{\sum_{w\in sent}w.count * w.avgStars}{\sum_{w \in sent} w.count}\]</p>

</div>
<div id="slide-5" class="step slide" 
  data-x="4000" data-y="1500"  
    data-rotate="200" 
    
    
    data-scale="1">
 <h1>Results and Discussion</h1>
 <p>Predictions errors have \(\mu\) = -0.0067505 and \(\sigma\)=1.3158128. </p>

<p>RSME is 1.3158202. </p>

<p>Prediction model tends to be <em>too optimistic</em>.</p>

<p><img src="assets/fig/error_histogram-1.png" title="plot of chunk error_histogram" alt="plot of chunk error_histogram" style="display: block; margin: auto;" /></p>

<p><strong>Improvements</strong>: gather sets of words or sentences, cross validation, <code>tm</code> package, etc.</p>

<h4>Further info, in <a href="https://github.com/davizuku/datascience-capstone">https://github.com/davizuku/datascience-capstone</a></h4>

</div>
 
    <div id="overview" class="step" data-x="3000" data-y="1500" data-scale="10">
    </div>

  </div>

  <div class="hint">
    <p>Use a spacebar or arrow keys to navigate</p>
  </div>
  
  <div style="position: fixed; bottom: 10px; left: 10px; pointer-events: auto;">
      <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
  </div>
  </body>
 <script>
  if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
  }
 </script>
 <script src="libraries/frameworks/impressjs/js/impress.js"></script>
 <script>impress().init();</script>
 <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
 <script type="text/x-mathjax-config">
   MathJax.Hub.Config({
     tex2jax: {
       inlineMath: [['$','$'], ['\\(','\\)']],
       processEscapes: true
     }
   });
 </script>
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
 <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
 </script> -->
 <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<script>  
 $(function (){ 
   $("#example").popover(); 
   $("[rel='tooltip']").tooltip(); 
 });  
 </script>  
 <!-- LOAD HIGHLIGHTER JS FILES -->
 <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
 <script>hljs.initHighlightingOnLoad();</script>
 <!-- DONE LOADING HIGHLIGHTER JS FILES -->
  
 </html>